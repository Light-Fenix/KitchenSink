<html>
<head>
	<script>
	window.onload = function()
	{
		// adjust height
		if (Titanium.Platform.name == 'android')
		{
			document.getElementById('picker').style.height="120px";
		}
		else
		{
			document.getElementById('picker').style.height="217px";

		}

		// set min time
		var minDate = new Date();
		minDate.setHours(0);
		minDate.setMinutes(0);

		// set max time
		var maxDate = new Date();
		maxDate.setHours(23);
		maxDate.setMinutes(59);

		var value = new Date();
		value.setHours(10);
		value.setMinutes(0);

		// create date picker
		var datePicker = Titanium.UI.createDatePicker({
		    id:'picker',
			minDate:minDate,
			maxDate:maxDate,
			value:value,
		    mode:Titanium.UI.DatePicker.MODE_TIME,
		});

		// add change listener for date picker
		datePicker.addEventListener('change', function(e)
		{
		    document.getElementById('value').innerHTML = e.value;

		});

		// set date value
		datePicker.setValue(new Date(), {animated:true});

		document.getElementById('button').onclick = function()
		{
			// set date value
			var date = new Date();
			datePicker.setValue(new Date(), {animated:true});

		};
	};


	</script>

</head>
<body style="margin:0;padding:0;font-family:Helvetica Neue;font-size:18px;background-color: #fff">
	<div style="margin:20px">
			<button style="font-size:18px" id="button">Set To Current Time</button>

		<p>Current Value</p>
		<div id="value" style="font-weight:bold;color:#336699;font-size:14px"></div>
	</div>
	<div id="picker" style="position:absolute;bottom:0;height:120px;width:99%"></div>
</body>
</html>