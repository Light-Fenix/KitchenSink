<html>
<head>
<script>
window.onload = function()
{
	Titanium.Gesture.addEventListener('orientationchange',function(e)
	{
		var o = '';
		if (Titanium.Gesture.isLandscape(e.to))
		{	
			o = 'I am landscape';
		}
		else if (Titanium.Gesture.isPortrait(e.to))
		{
			o = 'I am portrait';
		}
	 	document.getElementById('orientation').innerHTML = o;
		document.getElementById('win_orientation').innerHTML = 'window.orientation = ' + window.orientation;
		
	});
	
	document.getElementById('win_orientation').innerHTML = 'window.orientation = ' + window.orientation;

	// add view to make sure orientation change fires with other views present
	var compositeView = Titanium.UI.createCompositeView();
	var views = Titanium.UI.currentWindow.getViews();
	compositeView.addView(views[0],{left:0,top:0});
	var view = Titanium.UI.createWebView({url:'orientation_view.html'});
	compositeView.addView(view,{bottom:0, left:0, height:50});
	Titanium.UI.currentWindow.addView(compositeView);
	Titanium.UI.currentWindow.showView(compositeView);
	
	
};


</script>
</head>
<body  style="font-family:'Helvetica Neue';background-color:white">
	<div id="orientation">I am portrait</div>
	<div id="win_orientation">window.orienation = </div>
</body>
</html>