<html>
<head>


</head>
<body  style="background-color:#999;color:#fff;text-align:center">
	<button id="button" style="margin:10px;font-size:15px">Send Event</button>
	
	<div id="event_data"></div>
	<script>
	window.onload = function()
	{
		Titanium.UI.currentWindow.addEventListener('my_event',function(data)
		{
			Titanium.API.info('in listener');
			document.getElementById('event_data').innerHTML = data.eventData;
		});
		document.getElementById('button').onclick = function()
		{
			Titanium.API.info('before fire');
			Titanium.UI.currentWindow.fireEvent('my_event', {eventData:'My event data'});
			Titanium.API.info('after fire')
		};
	};
	</script>
</body>
</html>