<html>
<head>
	<title>UI API</title>
	<!-- ANDROID -->
	<!-- headers not right - see "Settings->Security & location" for example -->
	<!-- options dialog doesn't work -->
	<!-- unfocused test causes crash -->
	<!-- no space between images and title on tableview -->
	<!-- alert test (second alert is missing buttons ) -->
	<!-- tableview headers still jacked -->
	<!-- hasChild not working -->
	<!-- menu not working -->
	<!-- when exiting camera test, screen flips to landscape -->
	<!-- URL null on application data (platform tab - application data ) -->
	

	<script>
	// data for tableview
	var data = [
		{title:'Alert'},
		{title:'Options Dialog'},
		{title:'Window Unfocused',hasChild:true},
		{title:'Table View 1',hasChild:true},
		{title:'Table View 2',hasChild:true},
		{title:'Table View 3',hasChild:true},
		{title:'Grouped View (iPhone)',hasChild:true},
		{title:'Fullscreen (iPhone)',hasChild:true},
		{title:'Status Bar (iPhone)',hasChild:true},
		{title:'Set Badge Icon (iPhone)'},
		{title:'Slider (iPhone)',hasChild:true},
		{title:'Text Fields (iPhone)',hasChild:true},
		{title:'Content Buttons (iPhone)',hasChild:true},
		{title:'Button Bar (iPhone)',hasChild:true},
		{title:'Tabbed Bar (iPhone)',hasChild:true},
		{title:'Navbar - Title (iPhone)',hasChild:true},
		{title:'Navbar - Right (iPhone)',hasChild:true},
		{title:'Navbar - Left (iPhone)',hasChild:true},
		{title:'Navbar - Hide (iPhone)',hasChild:true},
		{title:'Bar Color (iPhone)',hasChild:true},
		{title:'Toolbar - Left Align (iPhone)',hasChild:true},
		{title:'Toolbar - Middle Align (iPhone)',hasChild:true},
		{title:'Toolbar - Right Align (iPhone)',hasChild:true},
		{title:'Toolbar - Many Buttons (iPhone)',hasChild:true},
		{title:'Toolbar - Fixed Space (iPhone)',hasChild:true},
		{title:'Tabbar - Hide (iPhone)',hasChild:true},
		{title:'Composite View (iPhone)',hasChild:true},
		{title:'Switch (iPhone)',hasChild:true},
		{title:'Open (animated false) (iPhone)',hasChild:true},
		{title:'Notifications (Android)'},
		{title:'Activity Indicator (Android)'},
		{title:'Menu (Android)'}
		
	];
	
	// tableview object
	var tableView = Titanium.UI.createTableView({data:data,title:'UI API',isPrimary:true}, function(eventObject) 
	{
		// handle tableview click events
		var idx = eventObject.index;
		switch(idx)
		{
			case 0:
			{
				showAlert();
				break;
			}
			case 1:
			{
				showOptionsDialog();
				break;
			}
			case 2:
			{
				var win = Titanium.UI.createWindow({url:'window_unfocus.html',title:'Unfocus Event', barColor:'#336699'});
				win.open({animated:true});
				break;
			}
			case 3:
			{
				tableView1();
				break;
			}
			case 4:
			{
				tableView2();
				break;
			}
			case 5:
			{
				tableView3();
				break;
			}
			case 6:
			{
				groupedView();
				break;
			}
			case 7:
			{
				var win = Titanium.UI.createWindow({url:'fullscreen.html',fullscreen:true,title:'Fullscreen'});
				win.open({animated:true});
				break;
			}
			case 8:
			{
				var win = Titanium.UI.createWindow({url:'statusbar.html',title:'Status Bar'});
				win.open({animated:true});		
				break;
			}
			case 9:
			{
				Titanium.UI.setTabBadge(10);
				break;
			}
			case 10:
			{
				var slider = Titanium.UI.createSlider({width:100,min:0,max:10,value:0});
				var win = Titanium.UI.createWindow({url:'slider.html',title:'Slider'});
				win.setTitleControl(slider);
				win.open({animated:true});		
				break;
			}
			case 11:
			{
				var win = Titanium.UI.createWindow({url:'textfields.html',title:'Text Fields'});
				win.open({animated:true});		
				break;
			}
			case 12:
			{
				var win = Titanium.UI.createWindow({url:'buttons.html',title:'Content Buttons'});
				win.open({animated:true});		
				break;
			}
			case 13:
			{
				var buttonBar = Titanium.UI.createButtonBar({labels:['Button1', 'Button2'],color:'#336699'});
				buttonBar.addEventListener('click',function(e)
				{
					var a = Titanium.UI.createAlertDialog();
					a.setTitle('Buttonbar Test');
					a.setMessage('You click button index = ' + e.index);
					a.show();
				});
				var buttonBar2 = Titanium.UI.createButtonBar({
					labels:['Button5', 'Button6','Button7', 'Button8','Button9'],
					color:'#336699'
				});
				buttonBar2.addEventListener('click',function(e)
				{
					var a = Titanium.UI.createAlertDialog();
					a.setTitle('Buttonbar Test');
					a.setMessage('You click button index = ' + e.index);
					a.show();
				});
				
				var win = Titanium.UI.createWindow({url:'buttonbar.html',title:'Button Bar'});
				win.setTitleControl(buttonBar);
				win.setToolbar([buttonBar2])
				win.open({animated:true});		

				break;
			}
			case 14:
			{
				var tabbar = Titanium.UI.createTabbedBar({labels:['Tab1', 'Tab2'],index:1});
				var flexSpace = Titanium.UI.createButton({
					systemButton:Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
				});
				var tabbar2 = Titanium.UI.createTabbedBar({
					labels:['Tab5', 'Tab6','Tab7', 'Tab8','Tab9'],
					backgroundColor:'#336699',
					index:2
				});
				
				var win = Titanium.UI.createWindow({url:'tabbar.html',title:'Tab Bar'});
				win.setToolbar([flexSpace,tabbar2,flexSpace]);
				win.setRightNavButton(tabbar);
				win.open({animated:true});		
				break;
			}

			case 15:
			{
				var win = Titanium.UI.createWindow({url:'navbar_title.html',title:'Navbar Title'});
				win.open({animated:true});		
				break;
			}
			case 16:
			{
				var win = Titanium.UI.createWindow({url:'navbar_right.html',title:'Navbar Right'});
				var b = Titanium.UI.createButton({
					systemButton:Titanium.UI.iPhone.SystemButton.TRASH
				});
				b.addEventListener('click',function(e)
				{
					var a= Titanium.UI.createAlertDialog();
					a.setTitle('Navbar Right Test');
					a.setMessage('you clicked the trash button');
					a.show();
				});
				win.setRightNavButton(b);
				win.open({animated:true});		

				break;
			}
			case 17:
			{
				var win = Titanium.UI.createWindow({url:'navbar_left.html',title:'Navbar Left'});
				var b = Titanium.UI.createButton({
					systemButton:Titanium.UI.iPhone.SystemButton.TRASH
				});
				b.addEventListener('click',function(e)
				{
					var a= Titanium.UI.createAlertDialog();
					a.setTitle('Navbar Left Test');
					a.setMessage('you clicked the trash button');
					a.show();
				});
				win.setLeftNavButton(b);
				win.open({animated:true});		
				break;
			}
			case 18:
			{
				var win = Titanium.UI.createWindow({url:'navbar_hide.html',title:'Navbar Hide'});
				win.hideNavBar();
				win.open({animated:true});		
				break;
			}
			case 19:
			{
				var win = Titanium.UI.createWindow({url:'navbar_color.html',title:'Bar Color'});
				win.setBarColor('#111111')
				win.open({animated:true});		
				break;
			}
			case 20:
			{
				var win = Titanium.UI.createWindow({url:'toolbar_left.html',title:'Toolbar Left'});
				win.open({animated:true});		
				break;
			}
			case 21:
			{
				var win = Titanium.UI.createWindow({url:'toolbar_middle.html',title:'Toolbar Middle'});
				win.open({animated:true});		
				break;
			}
			case 22:
			{
				var win = Titanium.UI.createWindow({url:'toolbar_right.html',title:'Toolbar Right'});
				win.open({animated:true});		
				break;
			}
			case 23:
			{
				var win = Titanium.UI.createWindow({url:'toolbar_lots.html',
					title:'Toolbar Many Buttons',hideTabBar:true});
				win.open({animated:true});		
				break;
			}
			case 24:
			{
				var win = Titanium.UI.createWindow({url:'toolbar_fixedspace.html',
					title:'Toolbar Fixed Space',hideTabBar:true});
				win.open({animated:true});		
				break;
			}

			case 25:
			{
				var win = Titanium.UI.createWindow({url:'tabbar_hide.html',title:'Tabbar Hide',hideTabBar:true});
				win.open({animated:true});		
				break;
			}
			case 26:
			{
				var win = Titanium.UI.createWindow({url:'composite.html',title:'Composite'});
				win.open({animated:true});		
				break;
			}
			case 27:
			{
				var win = Titanium.UI.createWindow({url:'switch.html',title:'Switch'});
				var inst = Titanium.UI.createSwitch({value:true});
				win.setTitleControl(inst)
				win.open({animated:true});		
				break;
			}
			case 28:
			{
				var win = Titanium.UI.createWindow({url:'animated_false.html',title:'Animated False'});
				win.open({animated:false});		
				break;
			}

			case 29:
			{
				if (Titanium.Platform.name == 'android')
				{
					var notification = Titanium.UI.createNotification()
					notification.setMessage('Hello World');
					notification.show();
				}
				break;
			}
			case 30:
			{
				if (Titanium.Platform.name == 'android')
				{
					// create indicator
	              	var ind = Titanium.UI.createActivityIndicator();
	              	ind.setMessage('Loading...');
			        ind.setLocation(Titanium.UI.ActivityIndicator.DIALOG)
			        ind.setType(Titanium.UI.ActivityIndicator.INDETERMINANT)
	              	ind.show();

	              	setTimeout(function()
	              	{
	                      ind.hide();
	              	},2000);
				}
				
				break;
			}
			
			case 31:
			{
				if (Titanium.Platform.name == 'android')
				{
				
					var menu = Titanium.UI.createMenu();

					menu.addItem("Google", function() {
						Titanium.Platform.openURL('http://google.com');
						} , Titanium.UI.Android.SystemIcon.ADD);
					menu.addItem("Yahoo", function() {
						Titanium.Platform.openURL('http://yahoo.com');
						}, Titanium.UI.Android.SystemIcon.ADD);

					Titanium.UI.setMenu(menu);
				}
				break;
				
			}
			

		}
	});
	tableView.open({animated:false});
	
	// FUNCTIONS
	
	//
	//  alert test
	//
	function showAlert()
	{
		var a = Titanium.UI.createAlertDialog({title:'Alert Test',message:'it worked',buttonNames:['OK','Cancel']});
		a.show();
		var b = Titanium.UI.createAlertDialog({buttonNames:['OK']});
		b.setTitle('Click Event');
		a.addEventListener('click',function(e)
		{
			if (e.index == 0)
			{
				b.setMessage('You clicked OK');
			}
			else
			{
				b.setMessage('You clicked Cancel');
			}
			b.show();
		});
		
	};

	//
	// show options dialog
	//
	function showOptionsDialog()
	{
		var a = Titanium.UI.createAlertDialog();
		a.setTitle('Dialog Test');
		a.setButtonNames(['OK']);
		
		// create dialog
		var dialog = Titanium.UI.createOptionDialog();

		// set button titles
		dialog.setOptions(["Pick A","Pick B","cancel"]);

		// set index for destructive button (IPHONE ONLY) - makes button RED
		dialog.setDestructive(1);

		// set index for cancel (IPHONE ONLY)
		dialog.setCancel(2);

		// set title
		dialog.setTitle('My Title');

		// add event listener
		dialog.addEventListener('click',function(e)
		{
			a.setMessage('you clicked button index ' + e.index);
			a.show();
		});

		// show dialog
		dialog.show();
		
	};
	
	//
	// table view height/header tests
	//
	function tableView1()
	{
		// data for tableview
		var data = [
			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 1</div><div style="font-size:12px;color:#999">I am row 1 detail</div></div> ', hasDetail:true, header:'Section 0'},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 2</div><div style="font-size:12px;color:#999">I am row 2 detail</div></div> ', hasChild:true},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 3</div><div style="font-size:12px;color:#999">I am row 3 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 4</div><div style="font-size:12px;color:#999">I am row 4 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 5</div><div style="font-size:12px;color:#999">I am row 5 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 6</div><div style="font-size:12px;color:#999">I am row 6 detail</div></div> ', hasDetail:true, header:'Section 1'},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 7</div><div style="font-size:12px;color:#999">I am row 7 detail</div></div> ', hasChild:true},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 8</div><div style="font-size:12px;color:#999">I am row 8 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 9</div><div style="font-size:12px;color:#999">I am row 9 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 10</div><div style="font-size:12px;color:#999">I am row 10 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 11</div><div style="font-size:12px;color:#999">I am row 11 detail</div></div> ', hasDetail:true, header:'Section 2'},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 12</div><div style="font-size:12px;color:#999">I am row 12 detail</div></div> ', hasChild:true},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 13</div><div style="font-size:12px;color:#999">I am row 13 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 14</div><div style="font-size:12px;color:#999">I am row 14 detail</div></div> '},

			{html:'<div style="font-family:Helvetica Neue"><div style="font-size:18px;font-weight:bold;">Row 15</div><div style="font-size:12px;color:#999">I am row 15 detail</div></div> '}

		];

		// tableview object
		var tableView = Titanium.UI.createTableView({
			data:data,
			title:'Height/Header/HTML Test',
			rowHeight:80
		},function(eventObject) 
		{
			var a = Titanium.UI.createAlertDialog();
			a.setTitle('Table View')
			a.setMessage('row ' + eventObject.row + ' index ' + eventObject.index + ' section ' + eventObject.section);
			a.show(); 
		});

		tableView.open({animated:true});
		
	};
	
	//
	// table view height/header tests
	//
	function tableView2()
	{
		// data for tableview
		var data = [
			{title:'Row 1',header:'Section 0'},
			{title:'Row 2'},
			{title:'Row 3'},
			{title:'Row 4'},
			{title:'Row 5'},
			{title:'Row 6'},
			{title:'Row 7'},
			{title:'Row 8'},
			{title:'Row 9',header:'Section 1'},
			{title:'Row 10'},
			{title:'Row 11'},
			{title:'Row 12'},
			{title:'Row 13'},
			{title:'Row 14'},
			{title:'Row 15'},
			{title:'Row 16'},
			{title:'Row 17',header:'Section 2'},
			{title:'Row 18'},
			{title:'Row 19'},
			{title:'Row 20'},
			{title:'Row 21'},
			{title:'Row 22'},
			{title:'Row 23'},
			{title:'Row 24'},
			{title:'Row 25',header:'Section 3'},
			{title:'Row 26'},
			{title:'Row 27'},
			{title:'Row 28'},
			{title:'Row 29'},
			{title:'Row 30'},
			{title:'Row 31'},
			{title:'Row 32'}

		];

		// tableview object
		var tableView = Titanium.UI.createTableView({data:data,title:'Header Only Test'}, function(eventObject) 
		{
			var a = Titanium.UI.createAlertDialog();
			a.setTitle('Table View')
			a.setMessage('row ' + eventObject.row + ' index ' + eventObject.index + ' section ' + eventObject.section 
				+ ' rowData ' + eventObject.rowData);
			a.show(); 
	
		});
		tableView.open({animated:true});
	};
	//
	// table view image tests
	//
	function tableView3()
	{
		// data for tableview
		var data = [
			{title:'Row 1',hasDetail:true, image:'Phone.png'},
			{title:'Row 2', hasChild:true, image:'Safari.png'},
			{title:'Row 3', image:'iTunes.png'},
			{title:'Row 4', image:'Mail.png'},
		];

		// tableview object
		var tableView = Titanium.UI.createTableView({data:data,title:'Image Test'}, function(eventObject) 
		{
			var a = Titanium.UI.createAlertDialog();
			a.setTitle('Table View')
			a.setMessage('row ' + eventObject.row + ' index ' + eventObject.index + ' section ' + eventObject.section 
				+ ' rowData ' + eventObject.rowData);
			a.show(); 
	
		});
		tableView.open({animated:true});
	};

	//
	// grouped view
	//
	function groupedView()
	{
		var a = Titanium.UI.createAlertDialog({title:'Grouped View Test', buttonNames:['OK']});
		
		var buttonData = [
			{title:'Button 1'},
			{title:'Button 2'}
		];

		var bar = Titanium.UI.createButtonBar({labels:['Button 1', 'Button 2'], color:'#336699'});
		Titanium.UI.currentWindow.setRightNavButton(bar);
		
		var buttonSection = Titanium.UI.iPhone.createGroupedSection({footer:'Button Group Footer', header:'Button Group', type:'button',data:buttonData});
		buttonSection.addEventListener('click',function(e)
		{
			a.setMessage('You clicked index ' + e.index + ' section row ' + e.row + ' section ' + e.section);
			a.show();
		});

		var optionData = [
			{title:'Option 1'},
			{title:'Option 2' , selected:true},
			{title:'Option 3'}	
		];

		var optionSection = Titanium.UI.iPhone.createGroupedSection({header:'Option Group', type:'option', data:optionData});
		optionSection.addEventListener('click',function(e)
		{
			a.setMessage('You clicked index ' + e.index + ' section row ' + e.row + ' section ' + e.section);
			a.show();
		});

		var switchInstance = Titanium.UI.createSwitch({value:true});
		switchInstance.addEventListener('change',function(e)
		{
			a.setMessage(e.value)
			a.show();
		})
		
		var sliderInstance = Titanium.UI.createSlider({min:0,max:10,value:5, width:150});
		sliderInstance.addEventListener('change',function(e)
		{
			a.setMessage(e.value)
			a.show();
		})
		var textInstance = Titanium.UI.createTextField({value:'Nolan',width:50});
		textInstance.addEventListener('change',function(e)
		{
			a.setMessage(e.value)
			a.show();
		})

		var inputData = [
			{title:'Input 1', input:switchInstance, image:'iTunes.png'},
			{title:'Sound', input:sliderInstance, image:'Mail.png'},
			{title:'Name', input:textInstance},
			{title:'Input 2', value:'foo', hasChild:true},
			{title:'Input 3'}	
		];

		var inputSection = Titanium.UI.iPhone.createGroupedSection({header:'Input Group', type:'input', data:inputData});
		inputSection.addEventListener('click',function(e)
		{
			a.setMessage('You clicked index ' + e.index + ' section row ' + e.row + ' section ' + e.section 
				+ ' rowData ' + e.rowData);
			a.show();
		});
		
		// create grouped view  
		var groupedView = Titanium.UI.iPhone.createGroupedView();
		groupedView.addSection(optionSection);
		groupedView.addSection(buttonSection);
		groupedView.addSection(inputSection);
		groupedView.open({animated:true});
		
	};
	</script>
</head>
<body>
	
</body>
</html>